{
  "$schema": "https://smapi.io/schemas/content-patcher.json",
  "Changes": [
    {
      "Action": "EditData",
      "Target": "mushymato.HaveMoreKids/Kids",
      "Fields": {
        "{{ModId}}_{{L@Kid}}": {
          // This determines whether the child will become an NPC
          // As long as it is not null/FALSE, the child will get a generated Data/Character entry
          // Afterwards, this condition controls whether they appear as a Child or a NPC
          // By having !IS_FESTIVAL_DAY as part of the condition, the child will participate in festivals as a Child (and get automatically added next to the spouse)
          "IsNPCTodayCondition": "!IS_FESTIVAL_DAY,!DAY_OF_WEEK Sunday",
        }
      }
    },
    {
      "Action": "EditData",
      "Target": "mushymato.HaveMoreKids/ChildData",
      "Fields": {
        "{{ModId}}_{{L@Kid}}": {
          // Kid npcs do need a Home entry to not spawn in middle of Town
          "Home": [
            {
              "Id": "Default",
              "Location": "BusStop",
              "Tile": {
                "X": 19,
                "Y": 14
              },
              "Direction": "down"
            }
          ],
        }
      }
    },
    {
      // load blank.json
      "Action": "Load",
      "Target": "Characters/schedules/{{ModId}}_{{L@Kid}}",
      "FromFile": "data/blank.json"
    },
    {
      "Action": "EditData",
      "Target": "Characters/schedules/{{ModId}}_{{L@Kid}}",
      "Entries": {
        // give the child a schedule
        // "spring": "0700 Town 37 71 2/1200 Mountain 43 23 2/1800 Town 0 0 HMK_Home",
        "spring": "0700 Town 23 52 2/1010 Town 0 0 HMK_Home",
        "summer": "0000 Mountain 43 23 2/0700 Town 23 52 2/1010 Town 0 0 HMK_Home",
        "DesertFestival": "0800 Desert 22 51/1200 Desert 24 31/1730 Town 0 0 HMK_Home"
      }
    },
    // You also need the dialogue and gift taste data
    // (the following 3 patches are same as data/kid-talk.json, reproduced here for clarity)
    {
      // load blank.json
      "Action": "Load",
      "Target": "Characters/Dialogue/{{ModId}}_{{L@Kid}}",
      "FromFile": "data/blank.json"
    },
    {
      "Action": "EditData",
      "Target": "Characters/Dialogue/{{ModId}}_{{L@Kid}}",
      "Entries": {
        // these are a custom endearment terms, used when you have [HMK_Endearment] in this asset, or [HMK_Endearment mushymato.HMK.Example_girl1] anywhere else
        // the no-suffix one has highest priority, followed by the gendered versions
        "HMK_Endearment": "majesty",
        "HMK_Endearment_Male": "darth",
        "HMK_Endearment_Female": "mum",
        "HMK_Endearment_Undefined": "thou",
        "HMK_Endearment_NonParent": "highness",
        "HMK_Endearment_NonParent_Male": "vader",
        "HMK_Endearment_NonParent_Female": "auntie",
        "HMK_Endearment_NonParent_Undefined": "thy",
        // this is an ordinary vanilla dialogue asset, and accepts all the same keys
        "Mon": "{{i18n:{{L@Kid}}.Toddler.Dialog.Mon}} HI [HMK_Endearment], I AM {{mushymato.HaveMoreKids/KidDisplayName:{{TargetWithoutPath}}}}",
        "Tue": "{{i18n:{{L@Kid}}.Toddler.Dialog.Tue}} HI [HMK_EndearmentCap], I AM [HMK_KidName]",
        "Wed": "{{i18n:{{L@Kid}}.Toddler.Dialog.Wed}} HI [HMK_Endearment], OUR FAMILY IS {{mushymato.HaveMoreKids/KidDisplayName}}",
        "Thu": "{{i18n:{{L@Kid}}.Toddler.Dialog.Thu}} HI [HMK_Endearment], MY SIBLING IS [HMK_KidName mushymato.HMK.Example_boy1]",
        "Fri": "{{i18n:{{L@Kid}}.Toddler.Dialog.Fri}} HI [HMK_Endearment], [HMK_RandomSiblingName] IS MY SIBLING",
        "Sat": "{{i18n:{{L@Kid}}.Toddler.Dialog.Sat}} HI [HMK_Endearment]",
        "Sun": "{{i18n:{{L@Kid}}.Toddler.Dialog.Sun}} HI [HMK_Endearment]",
      }
    },
    {
      "Action": "EditData",
      "Target": "Data/NPCGiftTastes",
      "Entries": {
        // You can give the child some gift tastes, they also follow normal format
        "{{ModId}}_{{L@Kid}}": "{{i18n:{{L@Kid}}.Toddler.Gift.Loved}}/221 398 612 721 903 FrogEgg/{{i18n:{{L@Kid}}.Toddler.Gift.Liked}}/18 60 64 70 88 232 233 234 222 223 340 344 402 418 -6/{{i18n:{{L@Kid}}.Toddler.Gift.Dislike}}/-5 -75 -79 -81 80/{{i18n:{{L@Kid}}.Toddler.Gift.Hated}}/253 395 459 -26 16 330 873/{{i18n:{{L@Kid}}.Toddler.Gift.Neutral}}//",
      }
    },
    // Kids can have festival dialogue like everyone else
    {
      "Action": "EditData",
      "Target": "Data/Festivals/spring13",
      "Entries": {
        "{{ModId}}_{{L@Kid}}": "[HMK_EndearmentCap] I love eggs",
        "{{ModId}}_{{L@Kid}}_y2": "[HMK_EndearmentCap] I love eggs very much",
      }
    }
  ]
}