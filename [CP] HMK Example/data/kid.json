{
  "$schema": "https://smapi.io/schemas/content-patcher.json",
  "Changes": [
    // load all the needed textures
    {
      "Action": "Load",
      "Target": "Characters/{{ModId}}_{{L@Kid}}/baby, Characters/{{ModId}}_{{L@Kid}}/costume, Characters/{{ModId}}_{{L@Kid}}/toddler",
      "FromFile": "assets/{{L@Kid}}/characters/{{TargetWithoutPath}}.png"
    },
    {
      "Action": "Load",
      "Target": "Portraits/{{ModId}}_{{L@Kid}}/costume, Portraits/{{ModId}}_{{L@Kid}}/toddler",
      "FromFile": "assets/{{L@Kid}}/portraits/{{TargetWithoutPath}}.png"
    },
    // Child data for HMK has a similar format as Data/Characters
    // The difference is that this targets "mushymato.HaveMoreKids/ChildData"
    {
      "Action": "EditData",
      "Target": "mushymato.HaveMoreKids/ChildData",
      "Entries": {
        "{{ModId}}_{{L@Kid}}": {
          "DisplayName": "{{i18n:{{L@Kid}}.DisplayName}}",
          "Gender": "{{L@Gender}}",
          "IsDarkSkinned": "{{L@IsDarkSkinned}}",
          "Appearance": [
            // BABY APPEARANCE
            {
              // Any Id that starts with "HMK_BABY" is used specifically for the baby stages.
              // You may have several baby appearances, as long as the naming scheme is followed
              "Id": "HMK_BABY_1",
              "Sprite": "Characters/{{ModId}}_{{L@Kid}}/baby"
            },
            {
              // this is the normal toddler/npc sprite
              // for tecnical reasons, all HMK children need at least one unconditional Appearance entry like this
              "Id": "Toddler",
              "Portrait": "Portraits/{{ModId}}_{{L@Kid}}/toddler",
              "Sprite": "Characters/{{ModId}}_{{L@Kid}}/toddler"
            },
            {
              // this is the normal toddler/npc sprite with a GSQ
              "Id": "Toddler_Costume",
              "Portrait": "Portraits/{{ModId}}_{{L@Kid}}/costume",
              "Sprite": "Characters/{{ModId}}_{{L@Kid}}/costume",
              "Condition": "IS_EVENT festival_fall27",
              "Precedence": -1000,
            },
          ]
        }
      }
    },
    // At this point, the kid is defined, but you need to add them to an NPC or the shared kids pool
    // Parent and Shared are mutually exclusive and Parent takes precedence
    // Case NPC Parent (kid is only available for a particular NPC parent)
    {
      "Action": "EditData",
      "Target": "mushymato.HaveMoreKids/WhoseKids",
      "Entries": {
        "{{ModId}}_{{L@Kid}}": {
          "Parent": "{{NPCParent}}",
        }
      },
      "When": {
        "SharedKids": false
      }
    },
    // Case Shared Kids (kid is available for everyone)
    {
      "Action": "EditData",
      "Target": "mushymato.HaveMoreKids/WhoseKids",
      "Entries": {
        "{{ModId}}_{{L@Kid}}": {
          "Shared": true
        }
      },
      "When": {
        "SharedKids": true
      }
    },
    // Finally, you can add various NPC style features to your kids
    // L@Growup=talk -> Include data/kid-talk.json
    //    This allows your child to talk to you, without becoming a full fledged NPC
    //    It is active while the child is in the toddler phase
    // L@Growup=npc  -> Include data/kid-npc.json
    //    This turns your child into a full NPC with schedules
    //    Both the "Child" verison and the "NPC" version coexist
    {
      "Action": "Include",
      "FromFile": "data/kid-{{L@Growup}}.json"
    }
  ]
}